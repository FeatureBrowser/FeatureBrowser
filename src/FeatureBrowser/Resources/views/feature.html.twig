{% extends "base.html.twig" %}

{% block body %}
    <p>
        {% for tag in feature.getTags() %}
            <a href="">@{{ tag }}</a>
        {% endfor %}
    </p>
    <h1>{{ feature.getTitle() }}</h1>
    <p>{{ feature.getDescription()|nl2br }}</p>
    {% for scenario in feature.getScenarios() %}
        <p>
            {% for tag in scenario.getTags() %}
                <a href="">@{{ tag }}</a>
            {% endfor %}
        </p>
        <h3>{{ scenario.getTitle() }}</h3>
        <p>
        {% for step in feature.getBackground().getSteps() %}
            {{ step.getKeyword() }} {{ step.getText() }}<br/>
        {% endfor %}
        {% for step in scenario.getSteps() %}
            {{ step.getKeyword() }} {{ step.getText() }}<br/>
            {% if step.hasArguments() %}
                {% for argument in step.getArguments() %}
                    {% if argument.getNodeType() == 'Table' %}
                        <p>
                        <table class="table table-striped table-bordered">
                            {% for row in argument.getRows() %}
                            {% if loop.first %}
                            <thead>
                            <tr>
                                {% for cell in row %}
                                    <th>{{ cell }}</th>
                                {% endfor %}
                            </tr>
                            </thead>
                            <tbody>
                            {% else %}
                                <tr>
                                    {% for cell in row %}
                                        <td>{{ cell }}</td>
                                    {% endfor %}
                                </tr>
                            {% endif %}
                            {% endfor %}
                            </tbody>
                        </table><p>
                    {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}
        </p>
        <hr/>
    {% endfor %}
{% endblock %}
